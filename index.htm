<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ЛР №1 — Пользовательские запросы: теория и задание</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="global-header">
        <div class="wrap">
            <h1>Лабораторные работы по Оптимизации веб-приложений</h1>
      <nav class="global-nav">
        <a href="index.htm">ЛР1</a>
        <a href="2.htm">ЛР2</a>
        <a href="3.htm">ЛР3</a>
        <a href="4.htm">ЛР4</a>
        <a href="5.htm">ЛР5</a>
        <a href="6.htm">ЛР6</a>
        <a href="7.htm">ЛР7</a>
        <a href="8.html">ЛР8</a>
        <a href="9.html">ЛР9</a>
      </nav>
        </div>
    </header>

    <div class="wrap">
        <header>
            <h1>Лабораторная работа №1</h1>
            <p class="subtitle">Тема: Пользовательские запросы в веб-приложении (DevTools, HTTP, REST, JSON, Postman)</p>
            <nav class="nav">
                <a href="#theory">Теория</a>
                <a href="#task">Задание</a>
                <a href="#questions">Контрольные вопросы</a>
            </nav>
        </header>

        <!-- ===================== -->
        <!-- ТЕОРЕТИЧЕСКАЯ ЧАСТЬ   -->
        <!-- ===================== -->
        <section id="theory">
            <h2>1. Теоретическая часть</h2>

            <h3>1.1. Что такое DevTools</h3>
            <p><strong>DevTools (Developer Tools)</strong> — набор встроенных инструментов разработчика в браузерах
                (Chrome, Firefox, Edge, Safari), позволяющий анализировать, отлаживать и оптимизировать веб-страницы
                прямо во время их работы. Открывается клавишей <kbd>F12</kbd>.</p>

            <ul class="kv">
                <li><strong>HTML/DOM</strong> — просмотр и правка структуры страницы в реальном времени.</li>
                <li><strong>CSS</strong> — просмотр применённых стилей, редактирование, box-model.</li>
                <li><strong>Console</strong> — выполнение JavaScript, логирование, ошибки/варнинги.</li>
                <li><strong>Network</strong> — анализ всех запросов (HTML, CSS, JS, изображения, API), замеры времени.
                </li>
                <li><strong>Performance</strong> — замеры скорости, таймлайн рендеринга, «узкие места».</li>
                <li><strong>Device tools</strong> — эмуляция устройств, проверка адаптивности.</li>
                <li><strong>Security</strong> — SSL, смешанный контент.</li>
                <li><strong>Memory</strong> — утечки памяти, использование ресурсов.</li>
            </ul>

            <div class="gallery">
                <figure class="step">
                    <a href="images/devtools-open.png" class="zoom"
                        data-caption="Открытые DevTools (вкладки Elements, Console, Network и др.)">
                        <img src="images/devtools-open.png" alt="Пример открытого DevTools">
                    </a>
                    <figcaption>Рисунок 1 — Пример открытого DevTools</figcaption>
                </figure>
            </div>

            <h3>1.2. Пользовательские запросы</h3>
            <p>Пользовательские запросы — это <strong>HTTP-запросы</strong> (GET, POST и др.), которые браузер
                отправляет к серверу при работе пользователя с веб-приложением.</p>
            <p><strong>Характеристики запроса:</strong> метод, URL и параметры, заголовки (<em>headers</em>), тело
                (<em>payload</em>), время выполнения, код ответа.</p>
            <p><strong>Оптимизация:</strong> уменьшение числа обращений, сокращение объёма данных, кэширование,
                компрессия, пагинация, фильтрация.</p>

            <h4>Основные HTTP-методы</h4>
            <table class="table">
                <thead>
                    <tr>
                        <th>Метод</th>
                        <th>CRUD</th>
                        <th>Назначение</th>
                        <th>Особенности</th>
                        <th>Пример</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>GET</td>
                        <td>Read</td>
                        <td>Получение данных</td>
                        <td>Параметры в URL; кэшируемый; не изменяет состояние</td>
                        <td>/users?id=5</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>Create</td>
                        <td>Создание ресурса</td>
                        <td>Данные в теле запроса; изменяет состояние; обычно не кэшируется</td>
                        <td>Регистрация, заказ</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>Update</td>
                        <td>Полное обновление ресурса</td>
                        <td>Заменяет весь объект</td>
                        <td>Обновить профиль целиком</td>
                    </tr>
                    <tr>
                        <td>PATCH</td>
                        <td>Update (часть)</td>
                        <td>Частичное обновление</td>
                        <td>Изменяет только указанные поля</td>
                        <td>Сменить только email</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>Delete</td>
                        <td>Удаление ресурса</td>
                        <td>Обычно 200 OK или 204 No Content</td>
                        <td>Удалить товар</td>
                    </tr>
                    <tr>
                        <td>HEAD</td>
                        <td>—</td>
                        <td>Только заголовки</td>
                        <td>Проверка наличия/размера/даты</td>
                        <td>Проверка Last-Modified</td>
                    </tr>
                    <tr>
                        <td>OPTIONS</td>
                        <td>—</td>
                        <td>Поддерживаемые методы</td>
                        <td>Preflight (CORS)</td>
                        <td>Доступны ли POST/PUT</td>
                    </tr>
                </tbody>
            </table>

            <h3>1.3. Пользовательские ответы (коды)</h3>
            <ul class="kv">
                <li><strong>1xx</strong> — информационные (напр. 100 Continue).</li>
                <li><strong>2xx</strong> — успешные (200 OK, 201 Created, 204 No Content).</li>
                <li><strong>3xx</strong> — перенаправления (301, 302, 304 Not Modified).</li>
                <li><strong>4xx</strong> — ошибки клиента (400, 401, 403, 404).</li>
                <li><strong>5xx</strong> — ошибки сервера (500, 502, 503, 504).</li>
            </ul>

            <h3>1.4. REST API</h3>
            <p><strong>REST</strong> — архитектурный стиль взаимодействия с ресурсами по HTTP. Принципы: клиент-сервер,
                отсутствие состояния (stateless), единообразный интерфейс, работа с ресурсами (уникальные URL), обычно
                формат <strong>JSON</strong>.</p>

            <h3>1.5. JSON</h3>
            <p><strong>JSON</strong> — лёгкий текстовый формат обмена данными (объекты, массивы, строки, числа, boolean,
                null). Пример ответа:</p>
            <pre><code>{
  "userId": 1,
  "id": 1,
  "title": "sunt aut facere...",
  "body": "quia et suscipit..."
}</code></pre>

            <h3>1.6. Postman</h3>
            <p><strong>Postman</strong> — инструмент для работы с API: создание/отправка запросов, анализ ответов,
                коллекции, автотесты, совместная работа.</p>

            <div class="gallery">
                <figure class="step">
                    <a href="images/postman-overview.png" class="zoom"
                        data-caption="Интерфейс Postman: отправка и анализ запросов">
                        <img src="images/postman-overview.png" alt="Интерфейс Postman">
                    </a>
                    <figcaption>Рисунок 2 — Пример интерфейса Postman</figcaption>
                </figure>
            </div>
        </section>

        <!-- ===================== -->
        <!-- ЗАДАНИЕ               -->
        <!-- ===================== -->
        <section id="task">
            <h2>2. Задание</h2>

            <h3>2.1. Требуемые инструменты</h3>
            <ul class="kv">
                <li>Браузер (Chrome/Firefox/Edge/Яндекс).</li>
                <li>DevTools → вкладка <strong>Network</strong> (убедиться, что не Offline; лимиты — «без ограничений»
                    или 4G).</li>
            </ul>

            <div class="gallery">
                <figure class="step">
                    <a href="images/network-proper-setup.png" class="zoom"
                        data-caption="Правильные настройки вкладки Network">
                        <img src="images/network-proper-setup.png" alt="Пример правильно настроенного Network">
                    </a>
                    <figcaption>Рисунок 3 — Пример правильно настроенного Network</figcaption>
                </figure>
            </div>

            <h3>2.2. Первичный анализ запросов</h3>
            <ol>
                <li>Откройте DevTools (<kbd>F12</kbd>) → <strong>Network</strong>.</li>
                <li>Загрузите: <code>https://jsonplaceholder.typicode.com/posts  </code>.</li>
                <li>Зафиксируйте в таблице: метод, URL, код ответа, размер данных, время загрузки.</li>
                <li>Сделайте скриншот таблицы запросов.</li>
            </ol>

            <div class="gallery">
                <figure class="step">
                    <a href="images/network-table.png" class="zoom"
                        data-caption="Снимок списка запросов на вкладке Network">
                        <img src="images/network-table.png" alt="Снимок списка запросов">
                    </a>
                    <figcaption>Рисунок 4 — Пример таблицы запросов</figcaption>
                </figure>
            </div>

            <h3>2.3. Детальный разбор одного запроса</h3>
            <p>Выберите любой запрос и опишите: метод, параметры, заголовки, тело запроса/ответа, код ответа, время.
                Сравните с другим запросом и сделайте выводы.</p>

            <div class="gallery">
                <figure class="step">
                    <a href="images/request-detail.png" class="zoom"
                        data-caption="Карточка запроса: Headers / Payload / Response">
                        <img src="images/request-detail.png" alt="Детальный просмотр запроса">
                    </a>
                    <figcaption>Рисунок 5 — Детальный просмотр запроса</figcaption>
                </figure>
            </div>

            <h3>2.4. Эксперименты с запросами</h3>
            <pre><code>fetch('https://jsonplaceholder.typicode.com/posts/1  ')
  .then(res => res.json())
  .then(data => console.log(data));</code></pre>
            <p>Проанализируйте запрос в <strong>Network</strong>. Сравните <code>/posts</code> (все посты) и
                <code>/posts/1</code> (один пост): метод, код ответа, размер данных, время загрузки.</p>

            <h3>2.5. Работа с параметрами</h3>
            <ol>
                <li>Выполните: <code>https://jsonplaceholder.typicode.com/posts?userId=1</code>.</li>
                <li>Сравните с <code>/posts</code>: сколько объектов вернулось, каков размер и время загрузки?</li>
            </ol>

            <h3>2.6. Массовые запросы</h3>
            <p>Откройте одновременно <code>/posts/1</code>, <code>/posts/2</code>, <code>/posts/3</code>. Зафиксируйте
                влияние на время отклика.</p>

            <h3>2.7. Заголовки и ответы</h3>
            <ol>
                <li>Во вкладке <strong>Headers</strong> выпишите не менее 5 ключевых заголовков (например,
                    <code>Content-Type</code>, <code>Cache-Control</code>).</li>
                <li>Сравните вкладки <strong>Preview</strong> и <strong>Response</strong> — чем отличаются?</li>
            </ol>

            <h3>2.8. Оптимизация запросов</h3>
            <p>Сравните <code>/posts</code> (100 записей) и <code>/posts/1</code>. Заполните таблицу:</p>
            <table class="table">
                <thead>
                    <tr>
                        <th>Запрос</th>
                        <th>Размер ответа</th>
                        <th>Время загрузки</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>/posts</td>
                        <td>…</td>
                        <td>…</td>
                    </tr>
                    <tr>
                        <td>/posts?userId=1</td>
                        <td>…</td>
                        <td>…</td>
                    </tr>
                    <tr>
                        <td>/posts/1</td>
                        <td>…</td>
                        <td>…</td>
                    </tr>
                </tbody>
            </table>
            <p><strong>Предложите меры оптимизации:</strong> пагинация, фильтрация, уменьшение размера ответа,
                кэширование, правильные методы/заголовки.</p>

            <h3>2.9. Работа с API через Postman</h3>
            <ol>
                <li>Перейдите на <code>  https://www.postman.com/  </code> (регистрация/вход).</li>
                <li>Выполните: <code>GET /posts</code> и <code>GET /posts/1</code> — сравните ответы.</li>
                <li><strong>POST</strong> <code>/posts</code> с JSON-телом:
                    <pre><code>{
  "title": "Пост через Postman",
  "body": "Текст поста",
  "userId": 2
}</code></pre>
                </li>
                <li><strong>PUT</strong> <code>/posts/1</code> — полное обновление; <strong>PATCH</strong>
                    <code>/posts/1</code> — частичное (объясните отличие).</li>
                <li><strong>DELETE</strong> <code>/posts/1</code> — зафиксируйте код и тело ответа.</li>
            </ol>

            <div class="gallery">
                <figure class="step">
                    <a href="images/postman-send.png" class="zoom"
                        data-caption="Отправка запросов в Postman (Params, Headers, Body)">
                        <img src="images/postman-send.png" alt="Отправка запросов в Postman">
                    </a>
                    <figcaption>Рисунок 6 — Пример отправки запросов в Postman</figcaption>
                </figure>
            </div>

            <h3>2.10. Сравнение DevTools и Postman</h3>
            <ul class="kv">
                <li><strong>DevTools:</strong> быстрое исследование реальных запросов страницы, проверка
                    производительности/кэша/ресурсов.</li>
                <li><strong>Postman:</strong> коллекции, сохранение/повтор, авторизация/токены, автотесты.</li>
            </ul>
        </section>

        <!-- ===================== -->
        <!-- ТРЕБОВАНИЯ К ОТЧЁТУ   -->
        <!-- ===================== -->

        <section id="questions">
            <h2>3. Контрольные вопросы</h2>
            <ol>
                <li>Что такое DevTools и какие задачи решают вкладки Elements, Console и Network?</li>
                <li>Как открыть DevTools и какие настройки вкладки Network важны для замеров производительности?</li>
                <li>Перечислите основные части HTTP-запроса (метод, URL/параметры, заголовки, тело) и их назначение.
                </li>
                <li>Чем отличаются методы GET, POST, PUT, PATCH и DELETE? Приведите по одному практическому примеру.
                </li>
                <li>Для чего используются методы HEAD и OPTIONS и где встречается preflight-запрос?</li>
                <li>Расскажите о группах кодов ответов (1xx–5xx) и приведите примеры для 200, 301/302, 304, 404, 500.
                </li>
                <li>Что такое REST и чем «ресурс» в REST представлен на уровне URL?</li>
                <li>Какие типы данных поддерживает JSON? Приведите короткий пример JSON-объекта и массива.</li>
                <li>В чём отличие вкладок Preview и Response в карточке запроса DevTools?</li>
                <li>Какие заголовки чаще всего анализируются при оптимизации (например, Content-Type, Cache-Control,
                    ETag, Authorization)?</li>
                <li>Какие приёмы снижения нагрузки на сеть вы можете предложить для API: пагинация, фильтрация,
                    кэширование и др.?</li>
                <li>Чем работа с API в Postman отличается от анализа запросов в DevTools, и когда уместен каждый
                    инструмент?</li>
            </ol>
        </section>
        <footer>
            Подсказка: фиксируйте метрики (размер, время, код), применяйте пагинацию/фильтрацию и проверяйте
            кэширование.
        </footer>
    </div>

    <!-- Модальное окно (lightbox) для увеличения изображений -->
    <div id="lightbox" class="lightbox" aria-hidden="true">
        <button class="lightbox__close" aria-label="Закрыть (Esc)">&times;</button>
        <img class="lightbox__img" alt="">
        <div class="lightbox__cap"></div>
    </div>

    <script>
        // Открытие изображения
        document.querySelectorAll('a.zoom').forEach(a => {
            a.addEventListener('click', e => {
                e.preventDefault();
                const lb = document.getElementById('lightbox');
                lb.querySelector('.lightbox__img').src = a.getAttribute('href');
                lb.querySelector('.lightbox__img').alt = a.querySelector('img') ? .alt || '';
                lb.querySelector('.lightbox__cap').textContent = a.dataset.caption || '';
                lb.classList.add('is-open');
                lb.setAttribute('aria-hidden', 'false');
            });
        });
        // Закрытие
        const closeLb = () => {
            const lb = document.getElementById('lightbox');
            lb.classList.remove('is-open');
            lb.setAttribute('aria-hidden', 'true');
            lb.querySelector('.lightbox__img').src = '';
            lb.querySelector('.lightbox__cap').textContent = '';
        };
        document.querySelector('#lightbox .lightbox__close').addEventListener('click', closeLb);
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if (e.target.id === 'lightbox') closeLb();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLb();
        });
    </script>
</body>
</html>